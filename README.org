#+TITLE: DWM window manager customizations

This is my [[https://dwm.suckless.org/][dwm]] configuration using [[https://git.muteddisk.com/?p=dwm.git;a=tree][prefix style keybindings]] "a la" [[https://stumpwm.github.io/][stumpwm]] or [[https://www.nongnu.org/ratpoison/][ratpoison]] (CONTROL-t prefix).

* Customizations

|--------------------------+------------------------------------------------------------------------------------------------------------|
| Patch                    | Description                                                                                                |
|--------------------------+------------------------------------------------------------------------------------------------------------|
| [[https://git.muteddisk.com/?p=dwm.git;a=tree][prefix style keybindings]] | Baseline git tree prior additional patches.                                                                |
| [[https://dwm.suckless.org/patches/ewmhtags/][emwhtags]]                 | Compatibility with programs requesting workspace information.                                              |
| [[https://dwm.suckless.org/patches/warp/dwm-warp-6.1.diff][warp]]                     | Warp the mouse cursor to the center of the focused window.                                                 |
| [[https://dwm.suckless.org/patches/autostart/][autostart]]                | Variation with a non-blocking script at =$HOME/.config/dwm/autostart=. Please check the =examples= folder. |
| [[https://dwm.suckless.org/patches/xrdb/][xrdb]]                     | Please check the =examples= folder for a sample =.Xresources= configuration.                               |
|--------------------------+------------------------------------------------------------------------------------------------------------|


* Requirements

In order to build =dwm= you need make, a C compiler and some Xlib header *dev* files (libXinerama, libXft).

Here's an example for a Debian based distribution, package names are often relatively similar for other distributions.

#+begin_src sh
sudo apt-get install libxinerama-dev libfontconfig1-dev libx11-dev libxft-dev libxinerama-dev build-essential
#+end_src

Additionally, please note that the following software dependencies are referenced in =config.def.h=:

|-------------+--------------------------------------------------------|
| Software    | Description                                            |
|-------------+--------------------------------------------------------|
| [[https://github.com/tsoding/boomer][boomer]]      | Convenient screen magnifier for tiling window managers |
| [[https://tools.suckless.org/slock][slock]]       | Simple X display locker                                |
| [[https://linux.die.net/man/1/amixer][amixer]]      | Mixer for ALSA soundcard driver                        |
| [[https://st.suckless.org/][st]]          | Simple terminal implementation for X                   |
| [[https://tools.suckless.org/dmenu/][dmenu]]       | Dynamic menu for X, originally designed for dwm        |
| [[https://imagemagick.org/index.php][imagemagick]] | Create, modify, convert images, take screenshots       |
| [[https://linux.die.net/man/1/xclip][xclip]]       | Command line interface to X selections (clipboard)     |
|-------------+--------------------------------------------------------|

* Installation

** Linux
You can build and copy the resulting =dwm= binary at the location of your choice (such as in =/usr/local/bin=).

#+BEGIN_SRC sh
  make && sudo cp dwm /usr/local/bin
#+END_SRC

** OpenBSD

If you're using OpenBSD, first overwrite the default =config.mk= with =config.mk.OpenBSD= as follow.

#+begin_src sh
  cp config.mk.OpenBSD config.mk
  make && su root -c 'cp dwm /usr/local/bin'
#+end_src

* Running dwm

** Display manager login

If using a Login Manager such as LightDM, copy the =dwm.desktop= file to =/usr/share/xessions=.

#+BEGIN_SRC sh
  sudo cp dwm.desktop /usr/share/xsessions
  sudo update-desktop-database
#+END_SRC

For other Display Manager such as XDM, or for the console, it's just a matter of fiddling with couple of files accordingly (=.xinitrc=, =.xsession=, =.xsessionrc=, etc.).

** Console login

Jump to a TTY (terminal login) and type:

#+BEGIN_SRC sh
  startx /usr/local/bin/dwm
#+END_SRC

* Screenshot

[[file:images/screenshot_fedora.png]]
